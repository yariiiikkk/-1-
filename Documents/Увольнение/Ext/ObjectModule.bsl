   Процедура ПриЗаписи(Отказ)
    // Проверка на заполненность обязательных полей
    Если ПустаяСтрока(Сотрудник) Или ПустаяСтрока(ДатаУвольнения) Тогда
        Отказ = Истина;
        Сообщить("Заполните все обязательные поля.");
        Возврат;
    КонецЕсли;

    // Поиск сотрудника в справочнике "Сотрудники"
    СотрудникЗапись = Справочники.Сотрудники.НайтиПоНаименованию(Сотрудник);
    
    Если СотрудникЗапись = Неопределено Тогда
        Отказ = Истина;
        Сообщить("Сотрудник не найден.");
        Возврат;
    КонецЕсли;

    // Загрузка объекта для редактирования
    СотрудникОбъект = СотрудникЗапись.ПолучитьОбъект();

    // Проверка текущего статуса
    Если СотрудникОбъект.Статус = Перечисления.СтатусыСотрудников.Уволенный Тогда
        Отказ = Истина;
        Сообщить("Сотрудник уже уволен.");
        Возврат;
    КонецЕсли;

    // Изменение статуса сотрудника на "Уволенный"
    СотрудникОбъект.Статус = Перечисления.СтатусыСотрудников.Уволенный;

    // Сохранение изменений в справочнике "Сотрудники"
    Попытка
        СотрудникОбъект.Записать(); 
        Сообщить("Статус сотрудника обновлен на 'Уволенный'.");
        
    Исключение
        Сообщить("Ошибка при сохранении данных: " + ОписаниеОшибки());
        Отказ = Истина;
    КонецПопытки;
КонецПроцедуры